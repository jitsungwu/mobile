{"version":3,"sources":["reportWebVitals.js","settings/firebaseConfig.js","ui/AppMenu.js","product/ProductAddEdit.js","account/SignUp.js","account/SignIn.js","account/SignOut.js","index.js","product/ProductList.js","employee/EmployeeList.js","ui/Main.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","AppMenu","activeStyle","backgroundColor","useTheme","palette","secondary","main","color","AppBar","position","Toolbar","Button","component","NavLink","to","ProductAddEdit","props","useState","desc","price","product","setProduct","message","setMessage","useEffect","action","id","handleChange","e","target","name","value","update","a","db","getFirestore","addDoc","collection","parseInt","docRef","console","log","setDoc","doc","close","code","Dialog","open","DialogTitle","DialogContent","TextField","label","variant","onChange","type","DialogActions","onClick","SignUp","getApps","length","initializeApp","email","password","displayName","account","setAccount","handleSubmit","auth","getAuth","createUserWithEmailAndPassword","updateProfile","currentUser","placeholder","autoComplete","setStatus","SignIn","signInWithEmailAndPassword","SignOut","signOut","theme","createTheme","primary","ReactDOM","render","StrictMode","ThemeProvider","path","getApp","setOpen","deleted","setDeleted","isLoading","setIsLoading","products","setProducts","currentProduct","setCurrentProduct","getDocs","querySnapshot","temp","forEach","push","data","readData","addData","editData","index","deleteData","deleteDoc","ProductListComponent","List","subheader","map","ListItem","divider","ListItemText","IconButton","edge","Edit","Delete","Box","sx","width","height","textAlign","CircularProgress","Fab","bottom","spacing","right","Add","department","employees","selectedIndex","setSelectedIndex","employee","handleListItemClick","selected","status","document","getElementById"],"mappings":"8KAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,2JCPDQ,EAAS,CAClBC,OAAQC,0CACRC,WAAY,gCACZC,YAAa,uCACbC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,6C,0CCDI,SAASC,IACtB,IAEMC,EAAc,CAAEC,gBAFRC,cAE8BC,QAAQC,UAAUC,KAAMC,MAAM,SAE1E,OACE,cAACC,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQC,UAAWC,IAASC,GAAG,WAAWb,YAAaA,EAAaM,MAAM,UAA1E,qBACA,cAACI,EAAA,EAAD,CAAQC,UAAWC,IAASC,GAAG,YAAYb,YAAaA,EAAaM,MAAM,UAA3E,2B,gECXO,SAASQ,EAAeC,GAErC,MAA8BC,mBAAS,CACrCC,KAAK,GACLC,MAAM,IAFR,mBAAOC,EAAP,KAAgBC,EAAhB,KAGA,EAA8BJ,mBAAS,IAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,kBAAIH,EAAW,eAAIL,EAAMI,YAAU,CAACJ,EAAMI,UAGpD,IAAMK,EAAUT,EAAMI,QAAQM,GAAU,eAAL,eAK7BC,EAAe,SAASC,GAC5BP,EAAW,2BAAID,GAAL,kBAAcQ,EAAEC,OAAOC,KAAMF,EAAEC,OAAOE,UAG5CC,EAAM,uCAAG,8BAAAC,EAAA,yDACPC,EAAKC,cACXZ,EAAW,IAFE,SAII,iBAAXE,EAJO,iCAKYW,YAAOC,YAAWH,EAAG,WAAW,CACnDhB,KAAKE,EAAQF,KACbC,MAAMmB,SAASlB,EAAQD,SAPhB,OAKHoB,EALG,OASTC,QAAQC,IAAIF,EAAOb,IATV,yCAYHgB,YAAOC,YAAIT,EAAG,UAAUd,EAAQM,IAAI,CACxCR,KAAKE,EAAQF,KACbC,MAAMmB,SAASlB,EAAQD,SAdhB,QAiBXH,EAAM4B,QAjBK,kDAoBXJ,QAAQC,IAAI,KAAEI,MACD,sBAAT,KAAEA,MACJtB,EAAW,8BAtBF,0DAAH,qDA4BZ,OACE,eAACuB,EAAA,EAAD,CAAQC,KAAM/B,EAAM+B,KAApB,UACE,eAACC,EAAA,EAAD,WAAcvB,EAAd,kBACA,eAACwB,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAWC,MAAO,2BAAOrB,KAAM,OAAOsB,QAAQ,WAAWrB,MAAOX,EAAQF,KAAMmC,SAAU1B,IACxF,cAACuB,EAAA,EAAD,CAAWC,MAAO,2BAAOG,KAAK,SAASxB,KAAM,QAAQsB,QAAQ,WAAWrB,MAAOX,EAAQD,MAAOkC,SAAU1B,IACvGL,KAEH,eAACiC,EAAA,EAAD,WACE,cAAC5C,EAAA,EAAD,CAAQyC,QAAQ,YAAY7C,MAAM,UAAUiD,QAASxB,EAArD,SAA8DP,IAC9D,cAACd,EAAA,EAAD,CAAQyC,QAAQ,YAAY7C,MAAM,YAAYiD,QAASxC,EAAM4B,MAA7D,gC,YCrDO,SAASa,EAAOzC,GACN,IAAnB0C,cAAUC,QACZC,YAAcrE,GAEhB,MAA8B0B,mBAAS,CAAC4C,MAAM,GAAGC,SAAS,GAAIC,YAAY,KAA1E,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BhD,mBAAS,IAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACMI,EAAe,SAASC,GAC5BqC,EAAW,2BAAID,GAAL,kBAAcpC,EAAEC,OAAOC,KAAMF,EAAEC,OAAOE,UAE5CmC,EAAY,uCAAG,4BAAAjC,EAAA,sEAEXkC,EAAOC,cAFI,SAGCC,YAA+BF,EAAMH,EAAQH,MAAOG,EAAQF,UAH7D,kDAOTQ,YAAcH,EAAKI,YAAY,CAACR,YAAaC,EAAQD,cAP5C,OASjBxC,EAAW,IATM,kDAajBA,EAAW,GAAG,EAAH,IAbM,0DAAH,qDAoBlB,OAEE,iCACE,cAAC2B,EAAA,EAAD,CAAWI,KAAO,OAAOxB,KAAO,cAAcC,MAAOiC,EAAQD,YAC3DS,YAAY,eAAKrB,MAAM,gBAAME,SAAU1B,IAAgB,uBACzD,cAACuB,EAAA,EAAD,CAAWI,KAAO,QAAQxB,KAAO,QAAQC,MAAOiC,EAAQH,MACtDW,YAAY,uCAASrB,MAAM,wCAAUE,SAAU1B,EAAc8C,aAAa,UAAS,uBACrF,cAACvB,EAAA,EAAD,CAAWI,KAAO,WAAWxB,KAAO,WAAWC,MAAOiC,EAAQF,SAC5DU,YAAY,eAAKrB,MAAM,gBAAME,SAAU1B,EAAc8C,aAAa,qBAAoB,uBACvFnD,EAAQ,uBACT,cAACX,EAAA,EAAD,CAAQyC,QAAQ,YAAY7C,MAAM,UAAUiD,QAASU,EAArD,0BACA,cAACvD,EAAA,EAAD,CAAQyC,QAAQ,YAAY7C,MAAM,YAAYiD,QAf7B,WACnBxC,EAAM0D,UAAU,WAcd,uECxCS,SAASC,EAAO3D,GACN,IAAnB0C,cAAUC,QACZC,YAAcrE,GAEhB,MAA8B0B,mBAAS,CAAC4C,MAAM,GAAGC,SAAS,GAAIC,YAAY,KAA1E,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BhD,mBAAS,IAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACMI,EAAe,SAASC,GAC5BqC,EAAW,2BAAID,GAAL,kBAAcpC,EAAEC,OAAOC,KAAMF,EAAEC,OAAOE,UAE5CmC,EAAY,uCAAG,4BAAAjC,EAAA,sEAEXkC,EAAOC,cAFI,SAGCQ,YAA2BT,EAAMH,EAAQH,MAAOG,EAAQF,UAHzD,gBAMftB,QAAQC,IAAI0B,EAAKI,YAAYR,aAC7B/C,EAAM0D,UAAU,aAGlBnD,EAAW,IAVM,gDAcjBA,EAAW,GAAG,EAAH,IAdM,yDAAH,qDAqBlB,OAEE,iCACE,cAAC2B,EAAA,EAAD,CAAWI,KAAO,QAAQxB,KAAO,QAAQC,MAAOiC,EAAQH,MACtDW,YAAY,uCAASrB,MAAM,wCAAUE,SAAU1B,EAAc8C,aAAa,UAAS,uBACrF,cAACvB,EAAA,EAAD,CAAWI,KAAO,WAAWxB,KAAO,WAAWC,MAAOiC,EAAQF,SAC5DU,YAAY,eAAKrB,MAAM,gBAAME,SAAU1B,EAAc8C,aAAa,qBAAoB,uBACvFnD,EAAQ,uBACT,cAACX,EAAA,EAAD,CAAQyC,QAAQ,YAAY7C,MAAM,UAAUiD,QAASU,EAArD,0BACA,cAACvD,EAAA,EAAD,CAAQyC,QAAQ,YAAY7C,MAAM,YAAYiD,QAb7B,WACnBxC,EAAM0D,UAAU,WAYd,yCCvCS,SAASG,EAAQ7D,GACP,IAAnB0C,cAAUC,QACZC,YAAcrE,GAEhB,MAA8B0B,mBAAS,IAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACM2C,EAAY,uCAAG,4BAAAjC,EAAA,sEAEXkC,EAAOC,cAFI,SAGXU,YAAQX,GAHG,OAIjB5C,EAAW,IACXP,EAAM0D,UAAU,UALC,gDAQjBnD,EAAW,GAAG,EAAH,IARM,yDAAH,qDAYlB,OAEE,iCACE,cAACZ,EAAA,EAAD,CAAQyC,QAAQ,YAAY7C,MAAM,UAAUiD,QAASU,EAArD,0BACC5C,EAAQ,0BCnBf,IAAMyD,EAAQC,YAAY,CACxB5E,QAAS,CACP6E,QAAS,CACP3E,KAAM,WAERD,UAAW,CACTC,KAAM,cAIZ4E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,EAAA,EAAD,CAAeN,MAAOA,EAAtB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOO,KAAK,WAAW1E,UCblB,WAGQ,IAArB8C,cAAUC,OAAeC,YAAcrE,GAAUgG,cACjD,IAAMrD,EAAKC,cACX,EAAwBlB,oBAAS,GAAjC,mBAAO8B,EAAP,KAAayC,EAAb,KACA,EAA8BvE,mBAAS,GAAvC,mBAAOwE,EAAP,KAAgBC,EAAhB,KACA,EAAkCzE,oBAAS,GAA3C,mBAAO0E,EAAP,KAAkBC,EAAlB,KAEA,EAA6B3E,mBAAS,CACpC,CAACC,KAAK,OAAQC,MAAM,KACpB,CAACD,KAAK,WAAYC,MAAM,OAF1B,mBAAO0E,EAAP,KAAgBC,EAAhB,KAKC,EAA2C7E,mBAAS,CAACC,KAAK,GAAGC,MAAM,IAAnE,mBAAO4E,EAAP,KAAuBC,EAAvB,KASDxE,qBAAU,WAAI,4CACZ,8BAAAS,EAAA,6DACE2D,GAAa,GADf,SAE8BK,YAAQ5D,YAAWH,EAAI,YAFrD,OAEQgE,EAFR,OAKQC,EAAO,GACbD,EAAcE,SAAQ,SAACzD,GAIrBwD,EAAKE,KAAK,CAAC3E,GAAGiB,EAAIjB,GAAIR,KAAKyB,EAAI2D,OAAOpF,KAAMC,MAAMwB,EAAI2D,OAAOnF,WAI/D2E,EAAY,GAAD,OAAKK,IAChBP,GAAa,GAff,4CADY,uBAAC,WAAD,wBAkBZW,KACA,CAACrE,EAAIa,EAAM0C,IAEb,IAIMe,EAAO,uCAAG,sBAAAvE,EAAA,sDACd+D,EAAkB,CAAC9E,KAAK,GAAGC,MAAM,IACjCqE,GAAQ,GAFM,2CAAH,qDAIPiB,EAAQ,uCAAG,WAAeC,GAAf,SAAAzE,EAAA,sDACf+D,EAAkBH,EAASa,IAC3BlB,GAAQ,GAFO,2CAAH,sDAKRmB,EAAU,uCAAG,WAAejF,GAAf,SAAAO,EAAA,sEAEf2D,GAAa,GAFE,SAGTgB,YAAUjE,YAAIT,EAAI,UAAWR,IAHpB,OAIfc,QAAQC,IAAI,WACZiD,EAAWD,EAAQ,GACnBG,GAAa,GANE,gDASfpD,QAAQC,IAAR,MATe,yDAAH,sDA+BVoE,EAAuB,WAC3B,OACE,cAACC,EAAA,EAAD,CAAMC,UAAU,eAAe,aAAW,eAA1C,SACClB,EAASmB,KAAI,SAAC5F,EAASsF,GAAV,OACZ,eAACO,EAAA,EAAD,CAAUC,SAAO,EAAjB,UACE,cAACC,EAAA,EAAD,CAAclC,QAAS7D,EAAQF,KAAMb,UAAW,MAAMe,EAAQD,QAC9D,cAACiG,EAAA,EAAD,CAAYC,KAAK,MAAM,aAAW,OAAO7D,QAAS,kBAAIiD,EAASC,IAA/D,SACE,cAACY,EAAA,EAAD,MAEF,cAACF,EAAA,EAAD,CAAYC,KAAK,MAAM,aAAW,SAAS7D,QAAS,kBAAImD,EAAWvF,EAAQM,KAA3E,SACE,cAAC6F,EAAA,EAAD,QANmBb,SAY7B,OACE,eAACc,EAAA,EAAD,CAAKC,GAAI,CACPC,MAAO,QACPC,OAAQ,QACRzH,gBAAiB,mBACjBK,MAAO,QACPqH,UAAW,QALb,UAOE,cAAC5H,EAAD,IACE2F,EAGF,cAACkC,EAAA,EAAD,IAFA,cAAChB,EAAD,IAIA,cAACiB,EAAA,EAAD,CAAKvH,MAAM,UAAU,aAAW,eAAKiD,QAASgD,EAC1CiB,GAAI,CACFhH,SAAU,QACVsH,OAAQ,SAAChD,GAAD,OAAWA,EAAMiD,QAAQ,IACjCC,MAAO,SAAClD,GAAD,OAAWA,EAAMiD,QAAQ,KAJtC,SAOE,cAACE,EAAA,EAAD,MAEF,cAACnH,EAAD,CAAgBgC,KAAMA,EAAMH,MAnFlB,WACZ4C,GAAQ,IAkFoCpE,QAAS2E,UDjH/C,cAAC,IAAD,CAAOT,KAAK,YAAY1E,UEtBnB,WAEb,MAAoBK,mBAAS,CAC3B,CAACS,GAAG,IAAKI,KAAK,MAAOqG,WAAW,MAChC,CAACzG,GAAG,IAAKI,KAAK,OAAQqG,WAAW,aACjC,CAACzG,GAAG,IAAKI,KAAK,OAAQqG,WAAW,cACjC,CAACzG,GAAG,IAAKI,KAAK,OAAQqG,WAAW,MACjC,CAACzG,GAAG,IAAKI,KAAK,OAAQqG,WAAW,QAL5BC,EAAP,oBAOA,EAA0CnH,mBAAS,GAAnD,mBAAOoH,EAAP,KAAsBC,EAAtB,KAME,OACA,eAACd,EAAA,EAAD,CAAKC,GAAI,CACLC,MAAO,QACPC,OAAQ,QACRzH,gBAAiB,mBACjBK,MAAO,QACPqH,UAAW,QALf,UAOA,cAAC5H,EAAD,IACA,cAAC8G,EAAA,EAAD,CAAMC,UAAU,gBAAgB,aAAW,gBAA3C,SACCqB,EAAUpB,KAAI,SAACuB,EAAU7B,GAAX,OACb,cAACO,EAAA,EAAD,CAAUC,SAAO,EAAa1D,QAAS,kBAff,SAACkD,GAC3B4B,EAAiB5B,GAc4B8B,CAAoB9B,IAAQ+B,SAAUJ,IAAkB3B,EAAnG,SACE,cAACS,EAAA,EAAD,CAAclC,QAASsD,EAASzG,KAAMzB,UAAW,IAAIkI,EAASJ,cADzCzB,cFHnB,cAAC,IAAD,CAAOpB,KAAK,IAAI1E,UGjBX,WACb,MAA4BK,mBAAS,UAArC,mBAAOyH,EAAP,KAAehE,EAAf,KAOA,OACE,eAAC8C,EAAA,EAAD,WACA,cAACxH,EAAD,IACU,WAAT0I,EACC,cAACjF,EAAD,CAAQiB,UAAWA,IACT,WAATgE,EACD,cAAC/D,EAAD,CAAQD,UAAWA,IAEnB,cAACG,EAAD,CAASH,UAAWA,IAPtB,sBHaFiE,SAASC,eAAe,SAM1B9J,M","file":"static/js/main.e9febcb3.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const config = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: \"product-a87b2.firebaseapp.com\",\r\n    databaseURL: \"https://product-a87b2.firebaseio.com\",\r\n    projectId: \"product-a87b2\",\r\n    storageBucket: \"product-a87b2.appspot.com\",\r\n    messagingSenderId: \"576564577770\",\r\n    appId: \"1:576564577770:web:a6e3f73c173f1782dd5e93\"\r\n  };","import React from 'react';\r\n\r\nimport {NavLink} from 'react-router-dom';\r\nimport { AppBar, Button, Toolbar } from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\n \r\nexport default function AppMenu() {\r\n  const theme = useTheme();\r\n  //const activeStyle = { backgroundColor:(theme) => theme.palette.secondary.main, color:\"black\" };\r\n  const activeStyle = { backgroundColor:theme.palette.secondary.main, color:\"black\" };\r\n  //const activeStyle = { backgroundColor:\"theme.palette.primary.light\", color:\"black\" };\r\n  return (\r\n    <AppBar position=\"sticky\">\r\n      <Toolbar>\r\n        <Button component={NavLink} to='/product' activeStyle={activeStyle} color=\"inherit\">product</Button>\r\n        <Button component={NavLink} to='/employee' activeStyle={activeStyle} color=\"inherit\">employee</Button>\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n\r\n}","import React, {useEffect, useState} from 'react';\r\nimport { Button, DialogActions, TextField  } from '@mui/material';\r\nimport { Dialog, DialogTitle,DialogContent  } from '@mui/material';\r\nimport { getFirestore, collection, doc, addDoc, setDoc } from \"firebase/firestore\";\r\nexport default function ProductAddEdit(props) {\r\n\r\n  const [product, setProduct] = useState({\r\n    desc:\"\",\r\n    price:0});\r\n  const [message, setMessage] = useState(\"\");  \r\n\r\n  useEffect(()=>setProduct({...props.product}),[props.product]);\r\n\r\n  //console.log(props.product);\r\n  const action = !props.product.id ? \"新增\":\"修改\";\r\n  //if id is null -> add\r\n  //if id is not null -> edit\r\n  \r\n\r\n  const handleChange = function(e){\r\n    setProduct({...product,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  const update = async function(){\r\n    const db = getFirestore();\r\n    setMessage(\"\");\r\n    try{\r\n      if (action === \"新增\"){\r\n        const docRef = await addDoc(collection(db,\"product\"),{\r\n          desc:product.desc,\r\n          price:parseInt(product.price)\r\n          });\r\n        console.log(docRef.id);\r\n      }\r\n      else {\r\n        await setDoc(doc(db,\"product\",product.id),{\r\n          desc:product.desc,\r\n          price:parseInt(product.price)\r\n        });\r\n      }\r\n      props.close();\r\n    }\r\n    catch(e){\r\n      console.log(e.code);\r\n      if (e.code===\"permission-denied\"){\r\n        setMessage(\"尚未登入!!\");\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Dialog open={props.open}>\r\n      <DialogTitle>{action}產品</DialogTitle>\r\n      <DialogContent>\r\n        <TextField label =\"產品描述\" name =\"desc\" variant=\"outlined\" value={product.desc} onChange={handleChange}/>\r\n        <TextField label =\"產品價格\" type=\"number\" name =\"price\" variant=\"outlined\" value={product.price} onChange={handleChange}/>\r\n        {message}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={update}>{action}</Button>\r\n        <Button variant=\"contained\" color=\"secondary\" onClick={props.close}>取消</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport {Button, TextField} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, createUserWithEmailAndPassword,updateProfile } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\n\r\n//import { Box } from '@mui/system';\r\n\r\nexport default function SignUp(props) {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const [account, setAccount] = useState({email:\"\",password:\"\", displayName:\"\"});\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleChange = function(e){\r\n    setAccount({...account,[e.target.name]:e.target.value})\r\n  }\r\n  const handleSubmit = async function(){\r\n    try {\r\n      const auth = getAuth();\r\n      const res = await createUserWithEmailAndPassword(auth, account.email, account.password);\r\n      //console.log(res);\r\n      if (res) {\r\n        //console.log(res.user);\r\n        await updateProfile(auth.currentUser,{displayName: account.displayName});\r\n      }\r\n      setMessage(\"\");\r\n\r\n    }\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n  }\r\n  const changeStatus = function(){\r\n    props.setStatus(\"signIn\");\r\n  }\r\n  \r\n  return(\r\n    \r\n    <form>\r\n      <TextField type = \"text\" name = \"displayName\" value={account.displayName} \r\n        placeholder=\"姓名\" label=\"姓名:\" onChange={handleChange} /><br/>\r\n      <TextField type = \"email\" name = \"email\" value={account.email} \r\n        placeholder=\"電子郵件信箱\" label=\"電子郵件信箱:\" onChange={handleChange} autoComplete=\"email\"/><br/>\r\n      <TextField type = \"password\" name = \"password\" value={account.password}\r\n        placeholder=\"密碼\" label=\"密碼:\" onChange={handleChange} autoComplete=\"current-password\"/><br/>\r\n      {message}<br/>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>註冊</Button>\r\n      <Button variant=\"contained\" color=\"secondary\" onClick={changeStatus}>已經註冊，我要登入</Button>\r\n    </form>\r\n    \r\n  )\r\n}","import React, {useState} from 'react';\r\nimport {Button, TextField} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\n\r\n//import { Box } from '@mui/system';\r\n\r\nexport default function SignIn(props) {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const [account, setAccount] = useState({email:\"\",password:\"\", displayName:\"\"});\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleChange = function(e){\r\n    setAccount({...account,[e.target.name]:e.target.value})\r\n  }\r\n  const handleSubmit = async function(){\r\n    try {\r\n      const auth = getAuth();\r\n      const res = await signInWithEmailAndPassword(auth, account.email, account.password);\r\n      //console.log(res);\r\n      if (res) {\r\n        console.log(auth.currentUser.displayName);\r\n        props.setStatus(\"signedIn\");\r\n        //updateProfile(auth.currentUser,{displayName: account.displayName});\r\n      }\r\n      setMessage(\"\");\r\n\r\n    }\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n  }\r\n  const changeStatus = function(){\r\n    props.setStatus(\"signUp\");\r\n  }\r\n  \r\n  return(\r\n    \r\n    <form>\r\n      <TextField type = \"email\" name = \"email\" value={account.email} \r\n        placeholder=\"電子郵件信箱\" label=\"電子郵件信箱:\" onChange={handleChange} autoComplete=\"email\"/><br/>\r\n      <TextField type = \"password\" name = \"password\" value={account.password}\r\n        placeholder=\"密碼\" label=\"密碼:\" onChange={handleChange} autoComplete=\"current-password\"/><br/>\r\n      {message}<br/>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>登入</Button>\r\n      <Button variant=\"contained\" color=\"secondary\" onClick={changeStatus}>我要註冊</Button>\r\n    </form>\r\n    \r\n  )\r\n}","import React, {useState} from 'react';\r\nimport {Button} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\n\r\n//import { Box } from '@mui/system';\r\n\r\nexport default function SignOut(props) {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleSubmit = async function(){\r\n    try {\r\n      const auth = getAuth();\r\n      await signOut(auth);\r\n      setMessage(\"\");\r\n      props.setStatus(\"signIn\");\r\n    }\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n  }\r\n  \r\n  return(\r\n    \r\n    <form>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>登出</Button>\r\n      {message}<br/>\r\n    </form>\r\n    \r\n  )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nimport ProductList from './product/ProductList';\nimport EmployeeList from './employee/EmployeeList';\nimport Main from './ui/Main';\n// theme\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#f44336',\n    },\n    secondary: {\n      main: '#F5B7B1',\n    },\n  },\n});\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <Router>\n        <Switch>\n          <Route path=\"/product\" component={ProductList}/>\n          <Route path=\"/employee\" component={EmployeeList}/>\n          <Route path=\"/\" component={Main}/>\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React, {useEffect, useState} from 'react';\r\nimport { Box, CircularProgress, Fab, IconButton, List, ListItem, ListItemText } from '@mui/material';\r\nimport {Edit as EditIcon, Delete as DeleteIcon, Add as AddIcon} from '@mui/icons-material';\r\nimport { getApp, getApps,initializeApp } from \"firebase/app\";\r\nimport { getFirestore, collection, getDocs } from \"firebase/firestore\";\r\nimport { deleteDoc, doc } from \"firebase/firestore\";\r\n//import { getFirestore, collection, getDocs, query, orderBy } from \"firebase/firestore\";\r\n\r\nimport {config} from '../settings/firebaseConfig';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport ProductAddEdit from '../product/ProductAddEdit';\r\n//import { ThemeProvider } from '@emotion/react';\r\nexport default function ProductList() {\r\n  //const firebaseApp = initializeApp(config);\r\n  //initializeApp(config);\r\n  getApps().length === 0 ? initializeApp(config) : getApp();\r\n  const db = getFirestore();\r\n  const [open, setOpen] = useState(false);\r\n  const [deleted, setDeleted] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [products,setProducts]=useState([\r\n    {desc:\"iPad\", price:20000},\r\n    {desc:\"iPhone X\", price:30000},\r\n   ]);\r\n  \r\n   const [currentProduct, setCurrentProduct] =useState({desc:\"\",price:0});\r\n /* \r\n  const products=[\r\n    {desc:\"iPad\", price:20000},\r\n    {desc:\"iPhone X\", price:30000},\r\n   ];\r\n  */\r\n  \r\n  \r\n  useEffect(()=>{\r\n    async function readData() {\r\n      setIsLoading(true);\r\n      const querySnapshot = await getDocs(collection(db, \"product\"));\r\n      //const querySnapshot = await getDocs(query(collection(db, \"product\"), orderBy(\"desc\")));\r\n      //const querySnapshot = getDocs(collection(db, \"product\"));\r\n      const temp = [];\r\n      querySnapshot.forEach((doc) => {\r\n      // doc.data() is never undefined for query doc snapshots\r\n        //console.log(doc);\r\n        //console.log(doc.id, \" => \", doc.data());\r\n        temp.push({id:doc.id, desc:doc.data().desc, price:doc.data().price});\r\n      \r\n      });\r\n      //console.log(temp);\r\n      setProducts([...temp]);\r\n      setIsLoading(false);\r\n    }\r\n    readData();\r\n  },[db, open, deleted]);\r\n\r\n  const close = function(){\r\n    setOpen(false);\r\n  }\r\n\r\n  const addData = async function(){\r\n    setCurrentProduct({desc:\"\",price:0});\r\n    setOpen(true);\r\n  }\r\n  const editData = async function(index){\r\n    setCurrentProduct(products[index]);\r\n    setOpen(true);\r\n  }\r\n\r\n  const deleteData = async function(id){\r\n    try{\r\n      setIsLoading(true);\r\n      await deleteDoc(doc(db, \"product\", id));\r\n      console.log(\"deleted\");\r\n      setDeleted(deleted+1);\r\n      setIsLoading(false);\r\n    }\r\n    catch (error){\r\n      console.log(error);\r\n    }   \r\n  }\r\n  \r\n/*\r\n  const readData = async function() {\r\n    const querySnapshot = await getDocs(collection(db, \"product\"));\r\n    const temp = [];\r\n    querySnapshot.forEach((doc) => {\r\n      // doc.data() is never undefined for query doc snapshots\r\n      console.log(doc.id, \" => \", doc.data());\r\n      temp.push({desc:doc.data().desc, price:doc.data().price});\r\n      \r\n    });\r\n    setProducts([...temp]);\r\n  };\r\n  //readData();\r\n\r\n\r\nuseEffect(readData\r\n  ,[]);\r\n*/\r\n  const ProductListComponent = function (){\r\n    return (\r\n      <List subheader=\"Product list\" aria-label=\"product list\">\r\n      {products.map((product, index) => \r\n        <ListItem divider key={index}>\r\n          <ListItemText primary={product.desc} secondary={\"NT$\"+product.price}></ListItemText>\r\n          <IconButton edge=\"end\" aria-label=\"edit\" onClick={()=>editData(index)}>\r\n            <EditIcon />\r\n          </IconButton>\r\n          <IconButton edge=\"end\" aria-label=\"delete\" onClick={()=>deleteData(product.id)}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </ListItem>)}\r\n      </List>\r\n    )\r\n  }\r\n  return (\r\n    <Box sx={{\r\n      width: '100vw',\r\n      height: '100vh',\r\n      backgroundColor: 'background.paper',\r\n      color: 'black',\r\n      textAlign: 'left'\r\n    }}>\r\n      <AppMenu/>\r\n      {!isLoading ?\r\n      <ProductListComponent/>\r\n       :\r\n      <CircularProgress />\r\n      }\r\n      <Fab color=\"primary\" aria-label=\"新增\" onClick={addData}\r\n          sx={{\r\n            position: \"fixed\",\r\n            bottom: (theme) => theme.spacing(2),\r\n            right: (theme) => theme.spacing(8)\r\n          }}\r\n          >\r\n        <AddIcon />\r\n      </Fab> \r\n      <ProductAddEdit open={open} close={close} product={currentProduct}/>\r\n    </Box>\r\n\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport { Box, List, ListItem, ListItemText} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\n\r\nexport default function EmployeeList() {\r\n   \r\n  const [employees] = useState([\r\n    {id:\"0\", name:\"Ben\", department:\"IT\"},\r\n    {id:\"1\", name:\"Rich\", department:\"Marketing\"},\r\n    {id:\"2\", name:\"Ruby\", department:\"Management\"},\r\n    {id:\"3\", name:\"Judy\", department:\"IT\"},\r\n    {id:\"4\", name:\"Rain\", department:\"IT\"}\r\n   ]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  \r\n    return (\r\n    <Box sx={{\r\n        width: '100vw',\r\n        height: '100vh',\r\n        backgroundColor: 'background.paper',\r\n        color: 'black',\r\n        textAlign: 'left'\r\n    }} >\r\n    <AppMenu/>\r\n    <List subheader=\"Employee list\" aria-label=\"employee list\">\r\n    {employees.map((employee, index) => \r\n      <ListItem divider key={index} onClick={()=>handleListItemClick(index)} selected={selectedIndex === index}>\r\n        <ListItemText primary={employee.name} secondary={\"@\"+employee.department}></ListItemText>\r\n\r\n      </ListItem>)}\r\n\r\n    </List>\r\n    \r\n    </Box>\r\n\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport {Box} from '@mui/material';\r\n//import { useHistory } from \"react-router-dom\";\r\n\r\nimport AppMenu from './AppMenu';\r\nimport SignUp from '../account/SignUp';\r\nimport SignIn from '../account/SignIn';\r\nimport SignOut from '../account/SignOut';\r\n\r\n\r\nexport default function Main() {\r\n  const [status, setStatus] = useState(\"signIn\");\r\n/*\r\n  const history = useHistory();\r\n  const handleClick = function (link) {\r\n    history.push(link);\r\n  }\r\n*/\r\n  return (\r\n    <Box>\r\n    <AppMenu/>\r\n    {status===\"signUp\"?\r\n      <SignUp setStatus={setStatus}/>\r\n      :status===\"signIn\"?\r\n      <SignIn setStatus={setStatus}/>\r\n      :\r\n      <SignOut setStatus={setStatus}/>\r\n      }    </Box>\r\n  )\r\n\r\n}"],"sourceRoot":""}