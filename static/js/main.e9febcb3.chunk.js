(this["webpackJsonpfirst-class"]=this["webpackJsonpfirst-class"]||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(51),s=a.n(r),i=a(67),o=a(26),j=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,192)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},b=a(102),u=a(177),l=a(0),p=a.n(l),d=a(3),O=a(15),h=a(185),x=a(173),f=a(187),m=a(188),v=a(189),g=a(190),y=a(191),k=a(167),w=a(168),C=a(169),S=a(36),I=a(37),N={apiKey:"AIzaSyDKbt-_odKuCZpgMpErXXJCRTW5eJAICfM",authDomain:"product-a87b2.firebaseapp.com",databaseURL:"https://product-a87b2.firebaseio.com",projectId:"product-a87b2",storageBucket:"product-a87b2.appspot.com",messagingSenderId:"576564577770",appId:"1:576564577770:web:a6e3f73c173f1782dd5e93"},T=a(178),B=a(180),E=a(181),F=a(46),J=a(6);function M(){var e={backgroundColor:Object(F.a)().palette.secondary.main,color:"black"};return Object(J.jsx)(T.a,{position:"sticky",children:Object(J.jsxs)(B.a,{children:[Object(J.jsx)(E.a,{component:i.b,to:"/product",activeStyle:e,color:"inherit",children:"product"}),Object(J.jsx)(E.a,{component:i.b,to:"/employee",activeStyle:e,color:"inherit",children:"employee"})]})})}var P=a(5),R=a(43),U=a(170),A=a(186),D=a(175),K=a(182),L=a(184);function X(e){var t=Object(c.useState)({desc:"",price:0}),a=Object(O.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(O.a)(s,2),o=i[0],j=i[1];Object(c.useEffect)((function(){return r(Object(R.a)({},e.product))}),[e.product]);var b=e.product.id?"\u4fee\u6539":"\u65b0\u589e",u=function(e){r(Object(R.a)(Object(R.a)({},n),{},Object(P.a)({},e.target.name,e.target.value)))},l=function(){var t=Object(d.a)(p.a.mark((function t(){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(I.f)(),j(""),t.prev=2,"\u65b0\u589e"!==b){t.next=10;break}return t.next=6,Object(I.a)(Object(I.b)(a,"product"),{desc:n.desc,price:parseInt(n.price)});case 6:c=t.sent,console.log(c.id),t.next=12;break;case 10:return t.next=12,Object(I.g)(Object(I.d)(a,"product",n.id),{desc:n.desc,price:parseInt(n.price)});case 12:e.close(),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),console.log(t.t0.code),"permission-denied"===t.t0.code&&j("\u5c1a\u672a\u767b\u5165!!");case 19:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}();return Object(J.jsxs)(D.a,{open:e.open,children:[Object(J.jsxs)(K.a,{children:[b,"\u7522\u54c1"]}),Object(J.jsxs)(L.a,{children:[Object(J.jsx)(U.a,{label:"\u7522\u54c1\u63cf\u8ff0",name:"desc",variant:"outlined",value:n.desc,onChange:u}),Object(J.jsx)(U.a,{label:"\u7522\u54c1\u50f9\u683c",type:"number",name:"price",variant:"outlined",value:n.price,onChange:u}),o]}),Object(J.jsxs)(A.a,{children:[Object(J.jsx)(E.a,{variant:"contained",color:"primary",onClick:l,children:b}),Object(J.jsx)(E.a,{variant:"contained",color:"secondary",onClick:e.close,children:"\u53d6\u6d88"})]})]})}var z=a(44);function W(e){0===Object(S.b)().length&&Object(S.c)(N);var t=Object(c.useState)({email:"",password:"",displayName:""}),a=Object(O.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(O.a)(s,2),o=i[0],j=i[1],b=function(e){r(Object(R.a)(Object(R.a)({},n),{},Object(P.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(z.b)(),e.next=4,Object(z.a)(t,n.email,n.password);case 4:if(!e.sent){e.next=8;break}return e.next=8,Object(z.e)(t.currentUser,{displayName:n.displayName});case 8:j(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),j(""+e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(J.jsxs)("form",{children:[Object(J.jsx)(U.a,{type:"text",name:"displayName",value:n.displayName,placeholder:"\u59d3\u540d",label:"\u59d3\u540d:",onChange:b}),Object(J.jsx)("br",{}),Object(J.jsx)(U.a,{type:"email",name:"email",value:n.email,placeholder:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1",label:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1:",onChange:b,autoComplete:"email"}),Object(J.jsx)("br",{}),Object(J.jsx)(U.a,{type:"password",name:"password",value:n.password,placeholder:"\u5bc6\u78bc",label:"\u5bc6\u78bc:",onChange:b,autoComplete:"current-password"}),Object(J.jsx)("br",{}),o,Object(J.jsx)("br",{}),Object(J.jsx)(E.a,{variant:"contained",color:"primary",onClick:u,children:"\u8a3b\u518a"}),Object(J.jsx)(E.a,{variant:"contained",color:"secondary",onClick:function(){e.setStatus("signIn")},children:"\u5df2\u7d93\u8a3b\u518a\uff0c\u6211\u8981\u767b\u5165"})]})}function Z(e){0===Object(S.b)().length&&Object(S.c)(N);var t=Object(c.useState)({email:"",password:"",displayName:""}),a=Object(O.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(O.a)(s,2),o=i[0],j=i[1],b=function(e){r(Object(R.a)(Object(R.a)({},n),{},Object(P.a)({},e.target.name,e.target.value)))},u=function(){var t=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(z.b)(),t.next=4,Object(z.c)(a,n.email,n.password);case 4:t.sent&&(console.log(a.currentUser.displayName),e.setStatus("signedIn")),j(""),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j(""+t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(J.jsxs)("form",{children:[Object(J.jsx)(U.a,{type:"email",name:"email",value:n.email,placeholder:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1",label:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1:",onChange:b,autoComplete:"email"}),Object(J.jsx)("br",{}),Object(J.jsx)(U.a,{type:"password",name:"password",value:n.password,placeholder:"\u5bc6\u78bc",label:"\u5bc6\u78bc:",onChange:b,autoComplete:"current-password"}),Object(J.jsx)("br",{}),o,Object(J.jsx)("br",{}),Object(J.jsx)(E.a,{variant:"contained",color:"primary",onClick:u,children:"\u767b\u5165"}),Object(J.jsx)(E.a,{variant:"contained",color:"secondary",onClick:function(){e.setStatus("signUp")},children:"\u6211\u8981\u8a3b\u518a"})]})}function $(e){0===Object(S.b)().length&&Object(S.c)(N);var t=Object(c.useState)(""),a=Object(O.a)(t,2),n=a[0],r=a[1],s=function(){var t=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(z.b)(),t.next=4,Object(z.d)(a);case 4:r(""),e.setStatus("signIn"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(""+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(J.jsxs)("form",{children:[Object(J.jsx)(E.a,{variant:"contained",color:"primary",onClick:s,children:"\u767b\u51fa"}),n,Object(J.jsx)("br",{})]})}var _=Object(b.a)({palette:{primary:{main:"#f44336"},secondary:{main:"#F5B7B1"}}});s.a.render(Object(J.jsx)(n.a.StrictMode,{children:Object(J.jsx)(u.a,{theme:_,children:Object(J.jsx)(i.a,{children:Object(J.jsxs)(o.c,{children:[Object(J.jsx)(o.a,{path:"/product",component:function(){0===Object(S.b)().length?Object(S.c)(N):Object(S.a)();var e=Object(I.f)(),t=Object(c.useState)(!1),a=Object(O.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),i=Object(O.a)(s,2),o=i[0],j=i[1],b=Object(c.useState)(!1),u=Object(O.a)(b,2),l=u[0],T=u[1],B=Object(c.useState)([{desc:"iPad",price:2e4},{desc:"iPhone X",price:3e4}]),E=Object(O.a)(B,2),F=E[0],P=E[1],R=Object(c.useState)({desc:"",price:0}),U=Object(O.a)(R,2),A=U[0],D=U[1];Object(c.useEffect)((function(){function t(){return(t=Object(d.a)(p.a.mark((function t(){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.next=3,Object(I.e)(Object(I.b)(e,"product"));case 3:a=t.sent,c=[],a.forEach((function(e){c.push({id:e.id,desc:e.data().desc,price:e.data().price})})),P([].concat(c)),T(!1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n,o]);var K=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D({desc:"",price:0}),r(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(F[t]),r(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,T(!0),t.next=4,Object(I.c)(Object(I.d)(e,"product",a));case 4:console.log("deleted"),j(o+1),T(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),W=function(){return Object(J.jsx)(h.a,{subheader:"Product list","aria-label":"product list",children:F.map((function(e,t){return Object(J.jsxs)(x.a,{divider:!0,children:[Object(J.jsx)(f.a,{primary:e.desc,secondary:"NT$"+e.price}),Object(J.jsx)(m.a,{edge:"end","aria-label":"edit",onClick:function(){return L(t)},children:Object(J.jsx)(k.a,{})}),Object(J.jsx)(m.a,{edge:"end","aria-label":"delete",onClick:function(){return z(e.id)},children:Object(J.jsx)(w.a,{})})]},t)}))})};return Object(J.jsxs)(v.a,{sx:{width:"100vw",height:"100vh",backgroundColor:"background.paper",color:"black",textAlign:"left"},children:[Object(J.jsx)(M,{}),l?Object(J.jsx)(g.a,{}):Object(J.jsx)(W,{}),Object(J.jsx)(y.a,{color:"primary","aria-label":"\u65b0\u589e",onClick:K,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(8)}},children:Object(J.jsx)(C.a,{})}),Object(J.jsx)(X,{open:n,close:function(){r(!1)},product:A})]})}}),Object(J.jsx)(o.a,{path:"/employee",component:function(){var e=Object(c.useState)([{id:"0",name:"Ben",department:"IT"},{id:"1",name:"Rich",department:"Marketing"},{id:"2",name:"Ruby",department:"Management"},{id:"3",name:"Judy",department:"IT"},{id:"4",name:"Rain",department:"IT"}]),t=Object(O.a)(e,1)[0],a=Object(c.useState)(0),n=Object(O.a)(a,2),r=n[0],s=n[1];return Object(J.jsxs)(v.a,{sx:{width:"100vw",height:"100vh",backgroundColor:"background.paper",color:"black",textAlign:"left"},children:[Object(J.jsx)(M,{}),Object(J.jsx)(h.a,{subheader:"Employee list","aria-label":"employee list",children:t.map((function(e,t){return Object(J.jsx)(x.a,{divider:!0,onClick:function(){return function(e){s(e)}(t)},selected:r===t,children:Object(J.jsx)(f.a,{primary:e.name,secondary:"@"+e.department})},t)}))})]})}}),Object(J.jsx)(o.a,{path:"/",component:function(){var e=Object(c.useState)("signIn"),t=Object(O.a)(e,2),a=t[0],n=t[1];return Object(J.jsxs)(v.a,{children:[Object(J.jsx)(M,{}),"signUp"===a?Object(J.jsx)(W,{setStatus:n}):"signIn"===a?Object(J.jsx)(Z,{setStatus:n}):Object(J.jsx)($,{setStatus:n}),"    "]})}})]})})})}),document.getElementById("root")),j()}},[[129,1,2]]]);
//# sourceMappingURL=main.e9febcb3.chunk.js.map