(this["webpackJsonpfirst-class"]=this["webpackJsonpfirst-class"]||[]).push([[0],{133:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(54),o=n.n(r),i=n(106),s=n(179),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},b=n(12),d=n(65),p=n(22),O=n(0),f=n.n(O),h=n(2),x=n(190),v=n(177),m=n(192),g=n(193),w=n(194),y=n(195),k=n(196),S=n(171),C=n(172),I=n(173),A=n(37),E=n(38),N={apiKey:"AIzaSyDKbt-_odKuCZpgMpErXXJCRTW5eJAICfM",authDomain:"product-a87b2.firebaseapp.com",databaseURL:"https://product-a87b2.firebaseio.com",projectId:"product-a87b2",storageBucket:"product-a87b2.appspot.com",messagingSenderId:"576564577770",appId:"1:576564577770:web:a6e3f73c173f1782dd5e93"},T=n(182),U=n(184),W=n(185),P=n(49),B=n(5);function R(){var e=Object(P.a)(),t=function(t){return t?{color:"black",backgroundColor:e.palette.secondary.main}:{color:"inherit",backgroundColor:"inherit"}};return Object(B.jsx)(T.a,{position:"sticky",children:Object(B.jsxs)(U.a,{children:[Object(B.jsx)(W.a,{component:d.b,to:"/product",style:function(e){var n=e.isActive;return t(n)},children:"product"}),Object(B.jsx)(W.a,{component:d.b,to:"/employee",style:function(e){var n=e.isActive;return t(n)},children:"employee"}),Object(B.jsx)(W.a,{component:d.b,to:"/image",style:function(e){var n=e.isActive;return t(n)},children:"image"})]})})}var F=void 0,J={toSignIn:1,toSignOut:2,toSignUp:0},L=a.a.createContext({status:J.signIn,setStatus:function(e){F.status=e}}),M=n(6),z=n(46),D=n(174),K=n(191),X=n(180),$=n(186),H=n(188);function Z(e){var t=Object(c.useState)({desc:"",price:0}),n=Object(b.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),i=Object(b.a)(o,2),s=i[0],u=i[1];Object(c.useEffect)((function(){return r(Object(z.a)({},e.product))}),[e.product]);var l=e.product.id?"\u4fee\u6539":"\u65b0\u589e",j=function(e){r(Object(z.a)(Object(z.a)({},a),{},Object(M.a)({},e.target.name,e.target.value)))},d=function(){var t=Object(h.a)(f.a.mark((function t(){var n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(E.f)(),u(""),t.prev=2,"\u65b0\u589e"!==l){t.next=10;break}return t.next=6,Object(E.a)(Object(E.b)(n,"product"),{desc:a.desc,price:parseInt(a.price)});case 6:c=t.sent,console.log(c.id),t.next=12;break;case 10:return t.next=12,Object(E.g)(Object(E.d)(n,"product",a.id),{desc:a.desc,price:parseInt(a.price)});case 12:e.close(),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),console.log(t.t0.code),"permission-denied"===t.t0.code&&u("\u5c1a\u672a\u767b\u5165!!");case 19:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(X.a,{open:e.open,children:[Object(B.jsxs)($.a,{children:[l,"\u7522\u54c1"]}),Object(B.jsxs)(H.a,{children:[Object(B.jsx)(D.a,{label:"\u7522\u54c1\u63cf\u8ff0",name:"desc",variant:"outlined",value:a.desc,onChange:j}),Object(B.jsx)(D.a,{label:"\u7522\u54c1\u50f9\u683c",type:"number",name:"price",variant:"outlined",value:a.price,onChange:j}),s]}),Object(B.jsxs)(K.a,{children:[Object(B.jsx)(W.a,{variant:"contained",color:"primary",onClick:d,children:l}),Object(B.jsx)(W.a,{variant:"contained",color:"secondary",onClick:e.close,children:"\u53d6\u6d88"})]})]})}function _(){var e=Object(c.useContext)(L);0===Object(A.b)().length?Object(A.c)(N):Object(A.a)();var t=Object(E.f)(),n=Object(c.useState)(!1),a=Object(b.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(0),s=Object(b.a)(i,2),u=s[0],l=s[1],j=Object(c.useState)(!1),d=Object(b.a)(j,2),p=d[0],O=d[1],T=Object(c.useState)([{desc:"iPad",price:2e4},{desc:"iPhone X",price:3e4}]),U=Object(b.a)(T,2),W=U[0],P=U[1],F=Object(c.useState)({desc:"",price:0}),M=Object(b.a)(F,2),z=M[0],D=M[1];Object(c.useEffect)((function(){function e(){return(e=Object(h.a)(f.a.mark((function e(){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Object(E.e)(Object(E.b)(t,"product"));case 3:n=e.sent,c=[],n.forEach((function(e){c.push({id:e.id,desc:e.data().desc,price:e.data().price})})),P([].concat(c)),O(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r,u]);var K=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D({desc:"",price:0}),o(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(W[t]),o(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,Object(E.c)(Object(E.d)(t,"product",n));case 4:console.log("deleted"),l(u+1),O(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){return Object(B.jsx)(x.a,{subheader:"Product list","aria-label":"product list",children:W.map((function(e,t){return Object(B.jsxs)(v.a,{divider:!0,children:[Object(B.jsx)(m.a,{primary:e.desc,secondary:"NT$"+e.price}),Object(B.jsx)(g.a,{edge:"end","aria-label":"edit",onClick:function(){return X(t)},children:Object(B.jsx)(S.a,{})}),Object(B.jsx)(g.a,{edge:"end","aria-label":"delete",onClick:function(){return $(e.id)},children:Object(B.jsx)(C.a,{})})]},t)}))})};return Object(B.jsxs)(w.a,{sx:{width:"100vw",height:"100vh",backgroundColor:"background.paper",color:"black",textAlign:"left"},children:[Object(B.jsx)(R,{}),p?Object(B.jsx)(y.a,{}):Object(B.jsx)(H,{}),e.status===J.toSignIn?Object(B.jsx)(w.a,{}):Object(B.jsx)(k.a,{color:"primary","aria-label":"\u65b0\u589e",onClick:K,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(8)}},children:Object(B.jsx)(I.a,{})}),Object(B.jsx)(Z,{open:r,close:function(){o(!1)},product:z})]})}function q(){var e=Object(c.useState)([{id:"0",name:"Ben",department:"IT"},{id:"1",name:"Rich",department:"Marketing"},{id:"2",name:"Ruby",department:"Management"},{id:"3",name:"Judy",department:"IT"},{id:"4",name:"Rain",department:"IT"}]),t=Object(b.a)(e,1)[0],n=Object(c.useState)(0),a=Object(b.a)(n,2),r=a[0],o=a[1];return Object(B.jsxs)(w.a,{sx:{width:"100vw",height:"100vh",backgroundColor:"background.paper",color:"black",textAlign:"left"},children:[Object(B.jsx)(R,{}),Object(B.jsx)(x.a,{subheader:"Employee list","aria-label":"employee list",children:t.map((function(e,t){return Object(B.jsx)(v.a,{divider:!0,onClick:function(){return function(e){o(e)}(t)},selected:r===t,children:Object(B.jsx)(m.a,{primary:e.name,secondary:"@"+e.department})},t)}))})]})}var G=n(23),Q=n(51),V=n(189),Y=n(197),ee=n(198);function te(){var e=Object(Q.b)(),t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)([]),i=Object(b.a)(o,2),s=i[0],u=i[1],l=Object(c.useState)(0),j=Object(b.a)(l,2),d=j[0],p=j[1],O=function(){var t=Object(h.a)(f.a.mark((function t(n){var c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n.target.files[0]),t.prev=1,r(""),c=Object(Q.d)(e,n.target.files[0].name),t.next=6,Object(Q.e)(c,n.target.files[0]);case 6:return console.log("Uploaded a blob or file!"),t.next=9,Object(Q.a)(c);case 9:a=t.sent,console.log(a),p((function(e){return e+1})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0.code),"storage/unauthorized"===t.t0.code&&r("\u5c1a\u672a\u767b\u5165");case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){function t(){return t=Object(h.a)(f.a.mark((function t(){var n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r("waiting..."),n=Object(Q.d)(e,"/"),t.next=5,Object(Q.c)(n);case 5:c=t.sent,u([]),c.items.forEach(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)(t);case 2:n=e.sent,u((function(e){return[].concat(Object(G.a)(e),[{img:n,title:t.name}])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(""),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),r(t.t0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,d]),Object(B.jsxs)(w.a,{children:[Object(B.jsx)(V.a,{type:"file",accept:"image/x-png,image/jpeg",onChange:O}),Object(B.jsx)("br",{}),a,Object(B.jsx)(Y.a,{sx:{width:"100%",height:"100%"},cols:2,rowHeight:164,children:s.map((function(e){return Object(B.jsx)(ee.a,{children:Object(B.jsx)("img",{src:"".concat(e.img,"?w=164&h=164&fit=crop&auto=format"),srcSet:"".concat(e.img,"?w=164&h=164&fit=crop&auto=format&dpr=2 2x"),alt:e.title,loading:"lazy"})},e.title)}))})]})}var ne=n(47);function ce(e){0===Object(A.b)().length&&Object(A.c)(N);var t=Object(c.useContext)(L),n=Object(c.useState)({email:"",password:"",displayName:""}),a=Object(b.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),s=Object(b.a)(i,2),u=s[0],l=s[1],j=function(e){o(Object(z.a)(Object(z.a)({},r),{},Object(M.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(ne.b)(),e.next=4,Object(ne.a)(t,r.email,r.password);case 4:if(!e.sent){e.next=8;break}return e.next=8,Object(ne.e)(t.currentUser,{displayName:r.displayName});case 8:l(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l(""+e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("form",{children:[Object(B.jsx)(D.a,{type:"text",name:"displayName",value:r.displayName,placeholder:"\u59d3\u540d",label:"\u59d3\u540d:",onChange:j}),Object(B.jsx)("br",{}),Object(B.jsx)(D.a,{type:"email",name:"email",value:r.email,placeholder:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1",label:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1:",onChange:j,autoComplete:"email"}),Object(B.jsx)("br",{}),Object(B.jsx)(D.a,{type:"password",name:"password",value:r.password,placeholder:"\u5bc6\u78bc",label:"\u5bc6\u78bc:",onChange:j,autoComplete:"current-password"}),Object(B.jsx)("br",{}),u,Object(B.jsx)("br",{}),Object(B.jsx)(W.a,{variant:"contained",color:"primary",onClick:d,children:"\u8a3b\u518a"}),Object(B.jsx)(W.a,{variant:"contained",color:"secondary",onClick:function(){t.setStatus(J.toSignIn)},children:"\u5df2\u7d93\u8a3b\u518a\uff0c\u6211\u8981\u767b\u5165"})]})}function ae(){0===Object(A.b)().length&&Object(A.c)(N);var e=Object(c.useContext)(L),t=Object(c.useState)({email:"",password:"",displayName:""}),n=Object(b.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),i=Object(b.a)(o,2),s=i[0],u=i[1],l=function(e){r(Object(z.a)(Object(z.a)({},a),{},Object(M.a)({},e.target.name,e.target.value)))},j=function(){var t=Object(h.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(ne.b)(),t.next=4,Object(ne.c)(n,a.email,a.password);case 4:t.sent&&(u(""),e.setStatus(J.toSignOut)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),u(""+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)("form",{children:[Object(B.jsx)(D.a,{type:"email",name:"email",value:a.email,placeholder:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1",label:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1:",onChange:l,autoComplete:"email"}),Object(B.jsx)("br",{}),Object(B.jsx)(D.a,{type:"password",name:"password",value:a.password,placeholder:"\u5bc6\u78bc",label:"\u5bc6\u78bc:",onChange:l,autoComplete:"current-password"}),Object(B.jsx)("br",{}),s,Object(B.jsx)("br",{}),Object(B.jsx)(W.a,{variant:"contained",color:"primary",onClick:j,children:"\u767b\u5165"}),Object(B.jsx)(W.a,{variant:"contained",color:"secondary",onClick:function(){e.setStatus(J.toSignUp)},children:"\u6211\u8981\u8a3b\u518a"})]})}function re(e){var t=Object(c.useContext)(L);0===Object(A.b)().length&&Object(A.c)(N);var n=Object(c.useState)(""),a=Object(b.a)(n,2),r=a[0],o=a[1],i=function(){var e=Object(h.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(ne.b)(),e.next=4,Object(ne.d)(n);case 4:o(""),t.setStatus(J.toSignIn),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(""+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("form",{children:[Object(B.jsx)(W.a,{variant:"contained",color:"primary",onClick:i,children:"\u767b\u51fa"}),r,Object(B.jsx)("br",{})]})}function oe(){var e=Object(c.useContext)(L);return Object(B.jsxs)(w.a,{children:[Object(B.jsx)(R,{}),e.status===J.toSignUp?Object(B.jsx)(ce,{}):e.status===J.toSignIn?Object(B.jsx)(ae,{}):Object(B.jsx)(re,{}),Object(B.jsx)(te,{})]})}function ie(){var e=Object(c.useState)(J.toSignIn),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(B.jsx)(L.Provider,{value:{status:n,setStatus:a},children:Object(B.jsx)(d.a,{children:Object(B.jsxs)(p.c,{children:[Object(B.jsx)(p.a,{path:"/",element:Object(B.jsx)(oe,{})}),Object(B.jsx)(p.a,{path:"/product",element:Object(B.jsx)(_,{})}),Object(B.jsx)(p.a,{path:"/employee",element:Object(B.jsx)(q,{})}),Object(B.jsx)(p.a,{path:"/image",element:Object(B.jsx)(te,{})})]})})})}var se=Object(i.a)({palette:{primary:{main:"#f44336"},secondary:{main:"#F5B7B1"}}});o.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(s.a,{theme:se,children:Object(B.jsx)(ie,{})})}),document.getElementById("root")),j(),function(e){if("serviceWorker"in navigator){if(new URL("/mobile",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/mobile","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):l(t,e)}))}}()}},[[133,1,2]]]);
//# sourceMappingURL=main.aee56e3b.chunk.js.map