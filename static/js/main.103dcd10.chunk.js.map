{"version":3,"sources":["reportWebVitals.js","settings/firebaseConfig.js","ui/AppMenu.js","product/ProductAddEdit.js","account/SignUp.js","index.js","product/ProductList.js","employee/EmployeeList.js","ui/Main.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","AppMenu","activeStyle","backgroundColor","useTheme","palette","secondary","main","color","AppBar","position","Toolbar","Button","component","NavLink","to","ProductAddEdit","props","useState","desc","price","product","setProduct","useEffect","action","id","handleChange","e","target","name","value","update","a","db","getFirestore","addDoc","collection","parseInt","docRef","console","log","setDoc","doc","close","Dialog","open","DialogTitle","DialogContent","TextField","label","variant","onChange","type","DialogActions","onClick","SignUp","getApps","length","initializeApp","email","password","displayName","account","setAccount","message","setMessage","handleSubmit","auth","getAuth","createUserWithEmailAndPassword","res","user","updateProfile","placeholder","autoComplete","theme","createTheme","primary","ReactDOM","render","StrictMode","ThemeProvider","path","getApp","setOpen","deleted","setDeleted","isLoading","setIsLoading","products","setProducts","currentProduct","setCurrentProduct","getDocs","querySnapshot","temp","forEach","push","data","readData","addData","editData","index","deleteData","deleteDoc","ProductListComponent","List","subheader","map","ListItem","divider","ListItemText","IconButton","edge","Edit","Delete","Box","sx","width","height","textAlign","CircularProgress","Fab","bottom","spacing","right","Add","department","employees","selectedIndex","setSelectedIndex","employee","handleListItemClick","selected","document","getElementById"],"mappings":"8KAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,2JCPDQ,EAAS,CAClBC,OAAQC,0CACRC,WAAY,gCACZC,YAAa,uCACbC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,6C,0CCDI,SAASC,IACtB,IAEMC,EAAc,CAAEC,gBAFRC,cAE8BC,QAAQC,UAAUC,KAAMC,MAAM,SAE1E,OACE,cAACC,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQC,UAAWC,IAASC,GAAG,WAAWb,YAAaA,EAAaM,MAAM,UAA1E,qBACA,cAACI,EAAA,EAAD,CAAQC,UAAWC,IAASC,GAAG,YAAYb,YAAaA,EAAaM,MAAM,UAA3E,2B,gECXO,SAASQ,EAAeC,GAErC,MAA8BC,mBAAS,CACrCC,KAAK,GACLC,MAAM,IAFR,mBAAOC,EAAP,KAAgBC,EAAhB,KAIAC,qBAAU,kBAAID,EAAW,eAAIL,EAAMI,YAAU,CAACJ,EAAMI,UAGpD,IAAMG,EAAUP,EAAMI,QAAQI,GAAU,eAAL,eAK7BC,EAAe,SAASC,GAC5BL,EAAW,2BAAID,GAAL,kBAAcM,EAAEC,OAAOC,KAAMF,EAAEC,OAAOE,UAG5CC,EAAM,uCAAG,8BAAAC,EAAA,yDACPC,EAAKC,cADE,SAGI,iBAAXV,EAHO,gCAIYW,YAAOC,YAAWH,EAAG,WAAW,CACnDd,KAAKE,EAAQF,KACbC,MAAMiB,SAAShB,EAAQD,SANhB,OAIHkB,EAJG,OAQTC,QAAQC,IAAIF,EAAOb,IARV,wCAWHgB,YAAOC,YAAIT,EAAG,UAAUZ,EAAQI,IAAI,CACxCN,KAAKE,EAAQF,KACbC,MAAMiB,SAAShB,EAAQD,SAbhB,0DAkBXmB,QAAQC,IAAR,MAlBW,QAoBbvB,EAAM0B,QApBO,0DAAH,qDAuBZ,OACE,eAACC,EAAA,EAAD,CAAQC,KAAM5B,EAAM4B,KAApB,UACE,eAACC,EAAA,EAAD,WAActB,EAAd,kBACA,eAACuB,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAWC,MAAO,2BAAOpB,KAAM,OAAOqB,QAAQ,WAAWpB,MAAOT,EAAQF,KAAMgC,SAAUzB,IACxF,cAACsB,EAAA,EAAD,CAAWC,MAAO,2BAAOG,KAAK,SAASvB,KAAM,QAAQqB,QAAQ,WAAWpB,MAAOT,EAAQD,MAAO+B,SAAUzB,OAE1G,eAAC2B,EAAA,EAAD,WACE,cAACzC,EAAA,EAAD,CAAQsC,QAAQ,YAAY1C,MAAM,UAAU8C,QAASvB,EAArD,SAA8DP,IAC9D,cAACZ,EAAA,EAAD,CAAQsC,QAAQ,YAAY1C,MAAM,YAAY8C,QAASrC,EAAM0B,MAA7D,gC,YC9CO,SAASY,IACC,IAAnBC,cAAUC,QACZC,YAAclE,GAEhB,MAA8B0B,mBAAS,CAACyC,MAAM,GAAGC,SAAS,GAAIC,YAAY,KAA1E,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8B7C,mBAAS,IAAvC,mBAAO8C,EAAP,KAAgBC,EAAhB,KACMvC,EAAe,SAASC,GAC5BoC,EAAW,2BAAID,GAAL,kBAAcnC,EAAEC,OAAOC,KAAMF,EAAEC,OAAOE,UAE5CoC,EAAY,uCAAG,8BAAAlC,EAAA,sEAEXmC,EAAOC,cAFI,SAGCC,YAA+BF,EAAML,EAAQH,MAAOG,EAAQF,UAH7D,QAGXU,EAHW,SAKfA,EAAIC,KAAKC,cAAc,CAACX,YAAaC,EAAQD,cAL9B,gDAUjBI,EAAW,GAAG,EAAH,IAVM,yDAAH,qDAgBlB,OAEE,iCACE,cAACjB,EAAA,EAAD,CAAWI,KAAO,OAAOvB,KAAO,cAAcC,MAAOgC,EAAQD,YAC3DY,YAAY,eAAKxB,MAAM,gBAAME,SAAUzB,IAAgB,uBACzD,cAACsB,EAAA,EAAD,CAAWI,KAAO,QAAQvB,KAAO,QAAQC,MAAOgC,EAAQH,MACtDc,YAAY,uCAASxB,MAAM,wCAAUE,SAAUzB,EAAcgD,aAAa,UAAS,uBACrF,cAAC1B,EAAA,EAAD,CAAWI,KAAO,WAAWvB,KAAO,WAAWC,MAAOgC,EAAQF,SAC5Da,YAAY,eAAKxB,MAAM,gBAAME,SAAUzB,EAAcgD,aAAa,qBAAoB,uBACvFV,EAAQ,uBACT,cAACpD,EAAA,EAAD,CAAQsC,QAAQ,YAAY1C,MAAM,UAAU8C,QAASY,EAArD,0BACA,cAACtD,EAAA,EAAD,CAAQsC,QAAQ,YAAY1C,MAAM,YAAlC,uEClCN,IAAMmE,EAAQC,YAAY,CACxBvE,QAAS,CACPwE,QAAS,CACPtE,KAAM,WAERD,UAAW,CACTC,KAAM,cAIZuE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,EAAA,EAAD,CAAeN,MAAOA,EAAtB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOO,KAAK,WAAWrE,UCblB,WAGQ,IAArB2C,cAAUC,OAAeC,YAAclE,GAAU2F,cACjD,IAAMlD,EAAKC,cACX,EAAwBhB,oBAAS,GAAjC,mBAAO2B,EAAP,KAAauC,EAAb,KACA,EAA8BlE,mBAAS,GAAvC,mBAAOmE,EAAP,KAAgBC,EAAhB,KACA,EAAkCpE,oBAAS,GAA3C,mBAAOqE,EAAP,KAAkBC,EAAlB,KAEA,EAA6BtE,mBAAS,CACpC,CAACC,KAAK,OAAQC,MAAM,KACpB,CAACD,KAAK,WAAYC,MAAM,OAF1B,mBAAOqE,EAAP,KAAgBC,EAAhB,KAKC,EAA2CxE,mBAAS,CAACC,KAAK,GAAGC,MAAM,IAAnE,mBAAOuE,EAAP,KAAuBC,EAAvB,KASDrE,qBAAU,WAAI,4CACZ,8BAAAS,EAAA,6DACEwD,GAAa,GADf,SAE8BK,YAAQzD,YAAWH,EAAI,YAFrD,OAEQ6D,EAFR,OAKQC,EAAO,GACbD,EAAcE,SAAQ,SAACtD,GAIrBqD,EAAKE,KAAK,CAACxE,GAAGiB,EAAIjB,GAAIN,KAAKuB,EAAIwD,OAAO/E,KAAMC,MAAMsB,EAAIwD,OAAO9E,WAI/DsE,EAAY,GAAD,OAAKK,IAChBP,GAAa,GAff,4CADY,uBAAC,WAAD,wBAkBZW,KACA,CAAClE,EAAIY,EAAMwC,IAEb,IAIMe,EAAO,uCAAG,sBAAApE,EAAA,sDACd4D,EAAkB,CAACzE,KAAK,GAAGC,MAAM,IACjCgE,GAAQ,GAFM,2CAAH,qDAIPiB,EAAQ,uCAAG,WAAeC,GAAf,SAAAtE,EAAA,sDACf4D,EAAkBH,EAASa,IAC3BlB,GAAQ,GAFO,2CAAH,sDAKRmB,EAAU,uCAAG,WAAe9E,GAAf,SAAAO,EAAA,sEAEfwD,GAAa,GAFE,SAGTgB,YAAU9D,YAAIT,EAAI,UAAWR,IAHpB,OAIfc,QAAQC,IAAI,WACZ8C,EAAWD,EAAQ,GACnBG,GAAa,GANE,gDASfjD,QAAQC,IAAR,MATe,yDAAH,sDA+BViE,EAAuB,WAC3B,OACE,cAACC,EAAA,EAAD,CAAMC,UAAU,eAAe,aAAW,eAA1C,SACClB,EAASmB,KAAI,SAACvF,EAASiF,GAAV,OACZ,eAACO,EAAA,EAAD,CAAUC,SAAO,EAAjB,UACE,cAACC,EAAA,EAAD,CAAclC,QAASxD,EAAQF,KAAMb,UAAW,MAAMe,EAAQD,QAC9D,cAAC4F,EAAA,EAAD,CAAYC,KAAK,MAAM,aAAW,OAAO3D,QAAS,kBAAI+C,EAASC,IAA/D,SACE,cAACY,EAAA,EAAD,MAEF,cAACF,EAAA,EAAD,CAAYC,KAAK,MAAM,aAAW,SAAS3D,QAAS,kBAAIiD,EAAWlF,EAAQI,KAA3E,SACE,cAAC0F,EAAA,EAAD,QANmBb,SAY7B,OACE,eAACc,EAAA,EAAD,CAAKC,GAAI,CACPC,MAAO,QACPC,OAAQ,QACRpH,gBAAiB,mBACjBK,MAAO,QACPgH,UAAW,QALb,UAOE,cAACvH,EAAD,IACEsF,EAGF,cAACkC,EAAA,EAAD,IAFA,cAAChB,EAAD,IAIA,cAACiB,EAAA,EAAD,CAAKlH,MAAM,UAAU,aAAW,eAAK8C,QAAS8C,EAC1CiB,GAAI,CACF3G,SAAU,QACViH,OAAQ,SAAChD,GAAD,OAAWA,EAAMiD,QAAQ,IACjCC,MAAO,SAAClD,GAAD,OAAWA,EAAMiD,QAAQ,KAJtC,SAOE,cAACE,EAAA,EAAD,MAEF,cAAC9G,EAAD,CAAgB6B,KAAMA,EAAMF,MAnFlB,WACZyC,GAAQ,IAkFoC/D,QAASsE,UDjH/C,cAAC,IAAD,CAAOT,KAAK,YAAYrE,UEtBnB,WAEb,MAAoBK,mBAAS,CAC3B,CAACO,GAAG,IAAKI,KAAK,MAAOkG,WAAW,MAChC,CAACtG,GAAG,IAAKI,KAAK,OAAQkG,WAAW,aACjC,CAACtG,GAAG,IAAKI,KAAK,OAAQkG,WAAW,cACjC,CAACtG,GAAG,IAAKI,KAAK,OAAQkG,WAAW,MACjC,CAACtG,GAAG,IAAKI,KAAK,OAAQkG,WAAW,QAL5BC,EAAP,oBAOA,EAA0C9G,mBAAS,GAAnD,mBAAO+G,EAAP,KAAsBC,EAAtB,KAME,OACA,eAACd,EAAA,EAAD,CAAKC,GAAI,CACLC,MAAO,QACPC,OAAQ,QACRpH,gBAAiB,mBACjBK,MAAO,QACPgH,UAAW,QALf,UAOA,cAACvH,EAAD,IACA,cAACyG,EAAA,EAAD,CAAMC,UAAU,gBAAgB,aAAW,gBAA3C,SACCqB,EAAUpB,KAAI,SAACuB,EAAU7B,GAAX,OACb,cAACO,EAAA,EAAD,CAAUC,SAAO,EAAaxD,QAAS,kBAff,SAACgD,GAC3B4B,EAAiB5B,GAc4B8B,CAAoB9B,IAAQ+B,SAAUJ,IAAkB3B,EAAnG,SACE,cAACS,EAAA,EAAD,CAAclC,QAASsD,EAAStG,KAAMvB,UAAW,IAAI6H,EAASJ,cADzCzB,cFHnB,cAAC,IAAD,CAAOpB,KAAK,IAAIrE,UGpBX,WAOb,OACE,eAACuG,EAAA,EAAD,WACA,cAACnH,EAAD,IACA,cAACsD,EAAD,mBHeF+E,SAASC,eAAe,SAM1BxJ,M","file":"static/js/main.103dcd10.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const config = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: \"product-a87b2.firebaseapp.com\",\r\n    databaseURL: \"https://product-a87b2.firebaseio.com\",\r\n    projectId: \"product-a87b2\",\r\n    storageBucket: \"product-a87b2.appspot.com\",\r\n    messagingSenderId: \"576564577770\",\r\n    appId: \"1:576564577770:web:a6e3f73c173f1782dd5e93\"\r\n  };","import React from 'react';\r\n\r\nimport {NavLink} from 'react-router-dom';\r\nimport { AppBar, Button, Toolbar } from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\n \r\nexport default function AppMenu() {\r\n  const theme = useTheme();\r\n  //const activeStyle = { backgroundColor:(theme) => theme.palette.secondary.main, color:\"black\" };\r\n  const activeStyle = { backgroundColor:theme.palette.secondary.main, color:\"black\" };\r\n  //const activeStyle = { backgroundColor:\"theme.palette.primary.light\", color:\"black\" };\r\n  return (\r\n    <AppBar position=\"sticky\">\r\n      <Toolbar>\r\n        <Button component={NavLink} to='/product' activeStyle={activeStyle} color=\"inherit\">product</Button>\r\n        <Button component={NavLink} to='/employee' activeStyle={activeStyle} color=\"inherit\">employee</Button>\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n\r\n}","import React, {useEffect, useState} from 'react';\r\nimport { Button, DialogActions, TextField  } from '@mui/material';\r\nimport { Dialog, DialogTitle,DialogContent  } from '@mui/material';\r\nimport { getFirestore, collection, doc, addDoc, setDoc } from \"firebase/firestore\";\r\nexport default function ProductAddEdit(props) {\r\n\r\n  const [product, setProduct] = useState({\r\n    desc:\"\",\r\n    price:0});\r\n\r\n  useEffect(()=>setProduct({...props.product}),[props.product]);\r\n\r\n  //console.log(props.product);\r\n  const action = !props.product.id ? \"新增\":\"修改\";\r\n  //if id is null -> add\r\n  //if id is not null -> edit\r\n  \r\n\r\n  const handleChange = function(e){\r\n    setProduct({...product,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  const update = async function(){\r\n    const db = getFirestore();\r\n    try{\r\n      if (action === \"新增\"){\r\n        const docRef = await addDoc(collection(db,\"product\"),{\r\n          desc:product.desc,\r\n          price:parseInt(product.price)\r\n          });\r\n        console.log(docRef.id);\r\n      }\r\n      else {\r\n        await setDoc(doc(db,\"product\",product.id),{\r\n          desc:product.desc,\r\n          price:parseInt(product.price)\r\n        });\r\n      }\r\n    }\r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n    props.close();\r\n  }\r\n\r\n  return (\r\n    <Dialog open={props.open}>\r\n      <DialogTitle>{action}產品</DialogTitle>\r\n      <DialogContent>\r\n        <TextField label =\"產品描述\" name =\"desc\" variant=\"outlined\" value={product.desc} onChange={handleChange}/>\r\n        <TextField label =\"產品價格\" type=\"number\" name =\"price\" variant=\"outlined\" value={product.price} onChange={handleChange}/>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={update}>{action}</Button>\r\n        <Button variant=\"contained\" color=\"secondary\" onClick={props.close}>取消</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport {Button, TextField} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\n\r\n//import { Box } from '@mui/system';\r\n\r\nexport default function SignUp() {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const [account, setAccount] = useState({email:\"\",password:\"\", displayName:\"\"});\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleChange = function(e){\r\n    setAccount({...account,[e.target.name]:e.target.value})\r\n  }\r\n  const handleSubmit = async function(){\r\n    try {\r\n      const auth = getAuth();\r\n      const res = await createUserWithEmailAndPassword(auth, account.email, account.password)\r\n      if (res) {\r\n        res.user.updateProfile({displayName: account.displayName});\r\n      }\r\n\r\n    }\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n    \r\n\r\n  }\r\n  \r\n  return(\r\n    \r\n    <form>\r\n      <TextField type = \"text\" name = \"displayName\" value={account.displayName} \r\n        placeholder=\"姓名\" label=\"姓名:\" onChange={handleChange} /><br/>\r\n      <TextField type = \"email\" name = \"email\" value={account.email} \r\n        placeholder=\"電子郵件信箱\" label=\"電子郵件信箱:\" onChange={handleChange} autoComplete=\"email\"/><br/>\r\n      <TextField type = \"password\" name = \"password\" value={account.password}\r\n        placeholder=\"密碼\" label=\"密碼:\" onChange={handleChange} autoComplete=\"current-password\"/><br/>\r\n      {message}<br/>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>註冊</Button>\r\n      <Button variant=\"contained\" color=\"secondary\">已經註冊，我要登入</Button>\r\n    </form>\r\n    \r\n  )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nimport ProductList from './product/ProductList';\nimport EmployeeList from './employee/EmployeeList';\nimport Main from './ui/Main';\n// theme\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#f44336',\n    },\n    secondary: {\n      main: '#F5B7B1',\n    },\n  },\n});\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <Router>\n        <Switch>\n          <Route path=\"/product\" component={ProductList}/>\n          <Route path=\"/employee\" component={EmployeeList}/>\n          <Route path=\"/\" component={Main}/>\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React, {useEffect, useState} from 'react';\r\nimport { Box, CircularProgress, Fab, IconButton, List, ListItem, ListItemText } from '@mui/material';\r\nimport {Edit as EditIcon, Delete as DeleteIcon, Add as AddIcon} from '@mui/icons-material';\r\nimport { getApp, getApps,initializeApp } from \"firebase/app\";\r\nimport { getFirestore, collection, getDocs } from \"firebase/firestore\";\r\nimport { deleteDoc, doc } from \"firebase/firestore\";\r\n//import { getFirestore, collection, getDocs, query, orderBy } from \"firebase/firestore\";\r\n\r\nimport {config} from '../settings/firebaseConfig';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport ProductAddEdit from '../product/ProductAddEdit';\r\n//import { ThemeProvider } from '@emotion/react';\r\nexport default function ProductList() {\r\n  //const firebaseApp = initializeApp(config);\r\n  //initializeApp(config);\r\n  getApps().length === 0 ? initializeApp(config) : getApp();\r\n  const db = getFirestore();\r\n  const [open, setOpen] = useState(false);\r\n  const [deleted, setDeleted] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [products,setProducts]=useState([\r\n    {desc:\"iPad\", price:20000},\r\n    {desc:\"iPhone X\", price:30000},\r\n   ]);\r\n  \r\n   const [currentProduct, setCurrentProduct] =useState({desc:\"\",price:0});\r\n /* \r\n  const products=[\r\n    {desc:\"iPad\", price:20000},\r\n    {desc:\"iPhone X\", price:30000},\r\n   ];\r\n  */\r\n  \r\n  \r\n  useEffect(()=>{\r\n    async function readData() {\r\n      setIsLoading(true);\r\n      const querySnapshot = await getDocs(collection(db, \"product\"));\r\n      //const querySnapshot = await getDocs(query(collection(db, \"product\"), orderBy(\"desc\")));\r\n      //const querySnapshot = getDocs(collection(db, \"product\"));\r\n      const temp = [];\r\n      querySnapshot.forEach((doc) => {\r\n      // doc.data() is never undefined for query doc snapshots\r\n        //console.log(doc);\r\n        //console.log(doc.id, \" => \", doc.data());\r\n        temp.push({id:doc.id, desc:doc.data().desc, price:doc.data().price});\r\n      \r\n      });\r\n      //console.log(temp);\r\n      setProducts([...temp]);\r\n      setIsLoading(false);\r\n    }\r\n    readData();\r\n  },[db, open, deleted]);\r\n\r\n  const close = function(){\r\n    setOpen(false);\r\n  }\r\n\r\n  const addData = async function(){\r\n    setCurrentProduct({desc:\"\",price:0});\r\n    setOpen(true);\r\n  }\r\n  const editData = async function(index){\r\n    setCurrentProduct(products[index]);\r\n    setOpen(true);\r\n  }\r\n\r\n  const deleteData = async function(id){\r\n    try{\r\n      setIsLoading(true);\r\n      await deleteDoc(doc(db, \"product\", id));\r\n      console.log(\"deleted\");\r\n      setDeleted(deleted+1);\r\n      setIsLoading(false);\r\n    }\r\n    catch (error){\r\n      console.log(error);\r\n    }   \r\n  }\r\n  \r\n/*\r\n  const readData = async function() {\r\n    const querySnapshot = await getDocs(collection(db, \"product\"));\r\n    const temp = [];\r\n    querySnapshot.forEach((doc) => {\r\n      // doc.data() is never undefined for query doc snapshots\r\n      console.log(doc.id, \" => \", doc.data());\r\n      temp.push({desc:doc.data().desc, price:doc.data().price});\r\n      \r\n    });\r\n    setProducts([...temp]);\r\n  };\r\n  //readData();\r\n\r\n\r\nuseEffect(readData\r\n  ,[]);\r\n*/\r\n  const ProductListComponent = function (){\r\n    return (\r\n      <List subheader=\"Product list\" aria-label=\"product list\">\r\n      {products.map((product, index) => \r\n        <ListItem divider key={index}>\r\n          <ListItemText primary={product.desc} secondary={\"NT$\"+product.price}></ListItemText>\r\n          <IconButton edge=\"end\" aria-label=\"edit\" onClick={()=>editData(index)}>\r\n            <EditIcon />\r\n          </IconButton>\r\n          <IconButton edge=\"end\" aria-label=\"delete\" onClick={()=>deleteData(product.id)}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </ListItem>)}\r\n      </List>\r\n    )\r\n  }\r\n  return (\r\n    <Box sx={{\r\n      width: '100vw',\r\n      height: '100vh',\r\n      backgroundColor: 'background.paper',\r\n      color: 'black',\r\n      textAlign: 'left'\r\n    }}>\r\n      <AppMenu/>\r\n      {!isLoading ?\r\n      <ProductListComponent/>\r\n       :\r\n      <CircularProgress />\r\n      }\r\n      <Fab color=\"primary\" aria-label=\"新增\" onClick={addData}\r\n          sx={{\r\n            position: \"fixed\",\r\n            bottom: (theme) => theme.spacing(2),\r\n            right: (theme) => theme.spacing(8)\r\n          }}\r\n          >\r\n        <AddIcon />\r\n      </Fab> \r\n      <ProductAddEdit open={open} close={close} product={currentProduct}/>\r\n    </Box>\r\n\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport { Box, List, ListItem, ListItemText} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\n\r\nexport default function EmployeeList() {\r\n   \r\n  const [employees] = useState([\r\n    {id:\"0\", name:\"Ben\", department:\"IT\"},\r\n    {id:\"1\", name:\"Rich\", department:\"Marketing\"},\r\n    {id:\"2\", name:\"Ruby\", department:\"Management\"},\r\n    {id:\"3\", name:\"Judy\", department:\"IT\"},\r\n    {id:\"4\", name:\"Rain\", department:\"IT\"}\r\n   ]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  \r\n    return (\r\n    <Box sx={{\r\n        width: '100vw',\r\n        height: '100vh',\r\n        backgroundColor: 'background.paper',\r\n        color: 'black',\r\n        textAlign: 'left'\r\n    }} >\r\n    <AppMenu/>\r\n    <List subheader=\"Employee list\" aria-label=\"employee list\">\r\n    {employees.map((employee, index) => \r\n      <ListItem divider key={index} onClick={()=>handleListItemClick(index)} selected={selectedIndex === index}>\r\n        <ListItemText primary={employee.name} secondary={\"@\"+employee.department}></ListItemText>\r\n\r\n      </ListItem>)}\r\n\r\n    </List>\r\n    \r\n    </Box>\r\n\r\n  );\r\n}","import React from 'react';\r\nimport {Box} from '@mui/material';\r\n//import { useHistory } from \"react-router-dom\";\r\n\r\nimport AppMenu from './AppMenu';\r\nimport SignUp from '../account/SignUp';\r\n\r\nexport default function Main() {\r\n/*\r\n  const history = useHistory();\r\n  const handleClick = function (link) {\r\n    history.push(link);\r\n  }\r\n*/\r\n  return (\r\n    <Box>\r\n    <AppMenu/>\r\n    <SignUp/>\r\n    </Box>\r\n  )\r\n\r\n}"],"sourceRoot":""}